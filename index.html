<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Gypsum Requirement</title>
    <link rel="icon" type="image/x-icon" href="images/icon-72.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="index.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="index.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-sm bg-darkblue navbar-dark justify-content-center">
        &nbsp;&nbsp;
        <a class="navbar-brand" href="index.html">
            <img src="images/icon.png" alt="Logo" class="d-inline-block align-text-top" width="120">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            &nbsp;
            <ul class="navbar-nav" id="navBtns">
                <li class="nav-item">
                    <a id="navCalculator" class="nav-link active largeBoldFont" href="#">&nbsp;&nbsp;CALCULATOR</a>
                </li>
                &nbsp;
                <li class="nav-item">
                    <a id="navAbout" class="nav-link largeBoldFont" href="#">&nbsp;&nbsp;ABOUT</a>
                </li>
                &nbsp;
                <li class="nav-item">
                    <a id="navEquation" class="nav-link largeBoldFont" href="#">&nbsp;&nbsp;EQUATION</a>
                </li>
                &nbsp;
                <li class="nav-item">
                    <a id="navContact" class="nav-link largeBoldFont" href="#">&nbsp;&nbsp;CONTACT</a>
                </li>
            </ul>
        </div>
    </nav>
    <div id="root" class="container center-div">
        <div id="calculatorDiv">
            <br>
            <div class="titleDiv">
                <h2 class="text-center">Gypsum Requirement Calculator</h2>
            </div>
            <br>


            <div class="row">
                <div class="col-sm-3"></div>
                <div class="col-sm-6">
                    <form id="myForm" class="container">
                        <div class="row mb-3">
                            <label for="depth" class="col-sm-8 col-form-label text-sm-end"><strong>Soil Depth
                                    (m):</strong></label>
                            <div class="col-sm-4 clearable">
                                <input type="number" class="form-control" id="depth" name="depth" required min="0"
                                    step="0.01">
                                <button type="button" class="clear-button" id="clearDepthButton">&times;</button>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label for="density" class="col-sm-8 col-form-label text-sm-end"><strong>Soil Bulk Density
                                    (Mg
                                    m<sup>-3</sup>):</strong></label>
                            <div class="col-sm-4 clearable">
                                <input type="number" class="form-control" id="density" name="density" required min="0"
                                    step="0.01">
                                <button type="button" class="clear-button" id="clearDensityButton">&times;</button>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label for="cec" class="col-sm-8 col-form-label text-sm-end"><strong>CEC (mmol<sub>c</sub>
                                    kg<sup>-1</sup>):</strong></label>
                            <div class="col-sm-4 clearable">
                                <input type="number" class="form-control" id="cec" name="cec" required min="0"
                                    step="0.01">
                                <button type="button" class="clear-button" id="clearCecButton">&times;</button>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label for="purity" class="col-sm-8 col-form-label text-sm-end"><strong>Gypsum Purity
                                    (%):</strong></label>
                            <div class="col-sm-4 clearable">
                                <input type="number" class="form-control" id="purity" name="purity" required min="0.1"
                                    max="100" step="0.1">
                                <button type="button" class="clear-button" id="clearPurityButton">&times;</button>
                            </div>
                        </div>
                        <br /><br />

                        <div class="mb-3">
                            <h5>I'd like to use:</h5>
                            <div class="center-div">
                                <label class="radio-inline">
                                    <input type="radio" name="optradio" checked="checked"
                                        value="esp">&nbsp;<strong>ESP</strong>
                                </label>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                <label class="radio-inline">
                                    <input type="radio" name="optradio" value="sar">&nbsp;<strong>SAR</strong>
                                </label>
                                <br>
                            </div>
                            <div class="center-div">
                                <p>Note: when the initial ESP value is no less than 50,
                                    you can only use ESP for calculating;
                                    otherwise, you can choose either ESP or SAR.
                                </p>
                            </div>
                            <div id="espInputDiv">
                                <div class="row mb-3">
                                    <label for="initialESP" class="col-sm-8 col-form-label text-sm-end"><strong>Initial
                                            ESP
                                            (%):</strong></label>
                                    <div class="col-sm-4 clearable">
                                        <input type="number" class="form-control" id="initialESP" name="initialESP"
                                            min="0.1" max="100" step="0.1" required>
                                        <button type="button" class="clear-button"
                                            id="clearInitialESPButton">&times;</button>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="targetESP" class="col-sm-8 col-form-label text-sm-end"><strong>Target
                                            ESP
                                            (%):</strong></label>
                                    <div class="col-sm-4 clearable">
                                        <input type="number" class="form-control" id="targetESP" name="targetESP"
                                            min="0" max="100" step="0.1" required>
                                        <button type="button" class="clear-button"
                                            id="clearTargetESPButton">&times;</button>
                                    </div>
                                </div>
                            </div>
                            <div id="sarInputDiv" class="nodisplay">
                                <div class="row mb-3">
                                    <label for="initialSAR" class="col-sm-8 col-form-label text-sm-end"><strong>Initial
                                            SAR
                                            (%):</strong></label>
                                    <div class="col-sm-4 clearable">
                                        <input type="number" class="form-control" id="initialSAR" name="initialSAR"
                                            min="0.1" max="100" step="0.1">
                                        <button type="button" class="clear-button"
                                            id="clearInitialSARButton">&times;</button>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="targetSAR" class="col-sm-8 col-form-label text-sm-end"><strong>Target
                                            SAR
                                            (%):</strong></label>
                                    <div class="col-sm-4 clearable">
                                        <input type="number" class="form-control" id="targetSAR" name="targetSAR"
                                            min="0" max="100" step="0.1">
                                        <button type="button" class="clear-button"
                                            id="clearTargetSARButton">&times;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3" id="calculateBtnDiv">
                            <div class="d-grid">
                                <button type="submit" id="calculateBtn" class="btn btn-primary btn-block">
                                    <h4>Calculate</h4>
                                </button>
                            </div>
                        </div>
                        <hr>
                        <h5>Your Gypsum Requirement Result:</h5>

                        <div class="mb-3" id="resultDiv">
                            <br>
                            <div class="resultText">
                                <input type="text" id="mghaResult" readonly class="resultText2">
                            </div>
                            <span>or</span>
                            <br>
                            <div class="resultText">
                                <input type="text" id="ustonResult" readonly class="resultText2">
                            </div>
                            <br>
                        </div>
                        <div class="d-grid">
                            <button type="button" id="resetBtn" class="btn btn-secondary btn-block">RESET</button>
                        </div>
                        <br>
                    </form>
                </div>
                <div class="col-sm-3"></div>
            </div>
        </div>

        <div id="aboutDiv" class="nodisplay">
            <br>
            <div class="titleDiv">
                <h2 class="text-center">About the Gypsum Requirement Calculator</h2>
            </div>
            <br>
            <div class="row">
                <div class="col-sm-2"></div>
                <div class="col-sm-8">
                    <div id="intro">
                        <br />
                        <p>
                            Welcome to use the NDSU gypsum requirement (GR) calculator. The calculations are based on
                            the <a href="#" id="equationLink">
                                equation</a> of <a href="images/Reclamation of Salt-Affected Soils.pdf"
                                target="_blank">Oster et
                                al.
                                (1999)</a>.
                            To determine GR (in Mg/ha; e.g. 1 Mg/ha = 0.44609 tons/acre) the equation requires knowledge
                            of
                            the <br>
                        </p>
                        <dl>
                            <dt>- depth of the soil (unit: m)</dt>
                            <dd>the depth to which the gypsum will be applied</dd>
                            <dt>- bulk density of the soil (unit: Mg/m<sup>3</sup>)</dt>
                            <dd>default value in the calculator is 1.47 Mg/m3</dd>
                            <dt>- cation exchange capacity (unit: mmolc/kg)</dt>
                            <dd>e.g. 100mmolc/kg = 10cmolc/kg = 10meq/100g soil</dd>
                            <dt>- reaction efficiency factor (unitless)</dt>
                            <dd>e.g. choose 1.3 if the final ESP is 5 and 1.1 if the final ESP is 15 or
                                greater</dd>
                            <dt>- initial ESP (unit: %)</dt>
                            <dd>the initial ESP determined by a qualified laboratory. ESP is a % of the Na ions on the
                                soil's
                                exchange sites</dd>
                            <dt>- target or final ESP (unit: %)</dt>
                            <dd>the desired ESP</dd>
                            <dt>- purity of the gypsum being used (unit: %)</dt>
                            <dd>the purity of the gypsum is calculated by dividing Sulphur % by 0.186</dd>
                        </dl>
                        <p>
                            You will need to adjust the final mass of gypsum based on the moisture content of the
                            product
                            you are using. For example,
                            if the moisture content is 20% then take GR x 1.2 to get the mass of moist gypsum needed to
                            supply GR.
                        </p>
                        <p>
                            You can substitute the sodium adsorption ratio (SAR) determined from a saturated paste
                            extract
                            for the ESP if the ESP is less than 50.
                        </p>
                        <p>
                            The cost of applying gypsum will be much greater than the costs for determining the soil
                            metrics
                            outlined above so have your soils analyzed by your regional soil testing laboratory.
                            Depth of your soil sample should be great enough to understand the depth that gypsum should
                            be
                            incorporated.
                            Gypsum should be placed as near to the depth of sodic behavior as possible to maximize its
                            effectiveness.
                        </p>
                        <p>
                            [Reference]<br />
                            <a href="images/Reclamation of Salt-Affected Soils.pdf" target="_blank">
                                <i>
                                    Oster, J.D., I. Shainberg, and I.P. Abrol. 1999. Reclamation of salt-affected soils.
                                    In 806
                                    Agricultural Drainage.
                                    Agronomy Monograph no. 38. American Society of Agronomy, 807 Crop Science Society of
                                    America, Soil Science Society of America,
                                    677 S. Segoe Rd. 808 Madison, WI 53711. USA. p.659-691.
                                </i>
                            </a>
                        </p>

                    </div>
                </div>
                <div class="col-sm-2"></div>
            </div>
        </div>
        <div id="equationDiv" class="nodisplay">
            <br>
            <div class="titleDiv">
                <h2 class="text-center">Equations for Gypsum Requirement Calculator</h2>
            </div>
            <br>

            You can choose either of the following equations to calculate the Gypsum Requirement:
            <p id="fmla" class="equation">
                GR<sub>adj</sub>=0.86*F*D*&rho;<sub>b</sub>*CEC*(ESP<sub>i</sub>-ESP<sub>f</sub>)/p</p>
            <br>
            <p id="fmla" class="equation">
                GR<sub>adj</sub>=0.86*F*D*&rho;<sub>b</sub>*CEC*(SAR<sub>i</sub>-SAR<sub>f</sub>)/p</p>
            <p>
                Note: The second formula requires that the initial ESP value is less than 50.
            </p>
            <br>
            <hr>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Symbol</th>
                        <th>Definition</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><i>GR<sub>adj</sub></i></td>
                        <td>Amount of gypsum needed. Adjusted by its purity. <br />unit: Mg ha<sup>-1</sup></td>
                    </tr>
                    <tr>
                        <td><i>ESP</i></td>
                        <td>exchangeable sodium percentage, unit: %</td>
                    </tr>
                    <tr>
                        <td><i>ESP<sub>i</sub></i></td>
                        <td>initial <i>ESP</i> level</td>
                    </tr>
                    <tr>
                        <td><i>ESP<sub>f</sub></i></td>
                        <td>final or target <i>ESP</i> level</td>
                    </tr>
                    <tr>
                        <td><i>SAR</i></td>
                        <td>sodium adsorption ratio, unit: %</td>
                    </tr>
                    <tr>
                        <td><i>SAR<sub>i</sub></i></td>
                        <td>initial <i>SAR</i> level</td>
                    </tr>
                    <tr>
                        <td><i>SAR<sub>f</sub></i></td>
                        <td>final or target <i>SAR</i> level</td>
                    </tr>
                    <tr>
                        <td><i>CEC</i></td>
                        <td>cation exchange capacity, unit: mmol<sub>c</sub> kg<sup>-1</sup></td>
                    </tr>
                    <tr>
                        <td><i>D</i></td>
                        <td>soil depth, unit: m</td>
                    </tr>
                    <tr>
                        <td><i>&rho;<sub>b</sub></i></td>
                        <td>soil bulk density, unit: Mg m<sup>-3</sup></td>
                    </tr>
                    <tr>
                        <td><i>F</i></td>
                        <td>a correction factor that has no unit and ranges from 1.1 to 1.3 depending on
                            <i>ESP<sub>f</sub></i> or <i>SAR<sub>f</sub></i>
                        </td>
                    </tr>
                    <tr>
                        <td><i>p</i></td>
                        <td>gypsum purity, unit: %</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div id="contactDiv" class="nodisplay">
            <br>
            <div class="titleDiv">
                <h2 class="text-center">Contact Us</h2>
            </div>
            <br>

            <h6>If you have any questions or concerns, please contact:</h6>
            <div class="text-center">
                <a href="https://www.ndsu.edu/snrs/people/faculty/tom_desutter/" target="_blank"><img
                        src="images/TomDeSutter.jpg" alt="Dr. Tom DeSutter" class="half"></a>
                <br />
                <a href="https://www.ndsu.edu/snrs/people/faculty/tom_desutter/" target="_blank">
                    <h5>Dr. Tom DeSutter</h5>
                </a>
                <h6><b>Professor & Program Lead</b></h6>
                <h7><b>Department of Soil Science, NDSU</b></h7>
                <br>
                <div class="center-div">
                    <table>
                        <tr>
                            <td><u>Office:</u></td>
                            <td><b>Walster Hall 231</b></td>
                        </tr>
                        <tr>
                            <td><u>Phone:</u></td>
                            <td><b>701-231-8690</b></td>
                        </tr>
                        <tr>
                            <td><u>Email:</u></td>
                            <td><b>Thomas.Desutter@ndsu.edu</b></td>
                        </tr>
                    </table>
                </div>
            </div>
            <br />
        </div>
    </div>
    <footer class="text-center">
        <span>Department of Soil Science, North Dakota State University</span>
        <br>
        Copyright &copy;
        <script>document.write(new Date().getFullYear())</script>
    </footer>

</body>

</html>